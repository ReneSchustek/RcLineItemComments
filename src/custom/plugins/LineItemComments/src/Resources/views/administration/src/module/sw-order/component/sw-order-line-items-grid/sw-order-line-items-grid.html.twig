{# Diese Datei erweitert die Admin-Bestelldetails um Kommentare #}
{% sw_extends '@Administration/administration/src/module/sw-order/component/sw-order-line-items-grid/sw-order-line-items-grid.html.twig' %}

{% block sw_order_line_items_grid_grid_columns %}
    {{ parent() }}

    {# Neue Spalte für Kommentare #}
    <template v-slot:column-comment="{ item }">
        <div v-if="item.payload && item.payload.comment" class="sw-order-line-item-comment">
            <sw-icon name="default-text-editor-text" size="14px"></sw-icon>
            <span class="comment-text" :title="item.payload.comment">
                {{ item.payload.comment | truncate(50) }}
            </span>
        </div>
        <div v-else class="text-muted">
            <small>{{ 'lineitemcomments.admin.no_comment'|trans }}</small>
        </div>
    </template>
{% endblock %}

{% block sw_order_line_items_grid_columns %}
    {{ parent() }}

    {# Spalten-Definition erweitern #}
    <script>
        // Diese Logik müsste in einer separaten JavaScript-Komponente implementiert werden
        // Hier nur als Platzhalter für die Erweiterung der Spalten-Konfiguration
    </script>
{% endblock %}